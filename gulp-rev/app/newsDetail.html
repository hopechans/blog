<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>江苏达谕律师事务所</title>
  <meta name="keywords" content="江苏达谕律师事务所" />
  <meta name="description" content="江苏达谕律师事务所" />
  <meta id="myViewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" name="viewport">
  <script type="text/javascript">
    document.write("<script src='config/config.js?rnd=" + Math.random() + "'><\/script>");
  </script>
  <link rel="stylesheet" type="text/css" href="lib/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="css/footface.css">
  <link rel="stylesheet" type="text/css" href="css/print.css">
  <link rel="stylesheet" type="text/css" href="css/common.css">
</head>

<body>
  <div id="wrapper">
    <div id="header">
    </div>
    <div class="wrap page-head">
      <img src="img/advertisement/t170103092802_1160282824.jpg" class="banner img-responsive" alt="" title="">
    </div>
    <div class="container classWithPad newspage lastItemMargin">
      <div class="col-md-12 content newsDetails" style="border: none">
          <h1 id="newsTitle"></h1>
          <p class="news-date" id="newsDate"></p>
          <img id="newsImage" style="width: 60%;max-width: 600px" src=""/>
          <div id="newsVideo"></div>
          <br>
          <br>
          <br>
          <br>
          <p id="newsContent" style="text-indent: 2em"></p>
      </div>
    </div>
    <a href="#" id="back-to-top" title="Back to top">&uarr;</a>
    <div id="footer">
    </div>
  </div>
  <script src="lib/jquery-1.9.1.min.js"></script>
  <script src="js/fetch.js"></script>
  <script src="js/component.js"></script>
  <script type="text/javascript">
    const newsId = getQueryVariable("id")
    const data = My.fetch.getNewsDetailById(newsId);
    renderDetail(data)
    function renderDetail(data) {
      $("#newsTitle").html(data.title)
      $("#newsDate").html(data.createTime.substr(0,10))
      $("#newsContent").html(data.content)
      $("#newsImage").attr("src",My.fetch.imgUrl+data.picture)
      if(data.videoUrl != ''){
      	let html = `
      		<br>
      		<br>
      		<video src='${data.videoUrl}' width='60%' style="max-width:600px" controls="controls">
      			你的浏览器不支持播放视频，请用新版本的浏览器
      		</video>
      	`
      	$("#newsVideo").html(html)
      }
    }
    /**
     * 通过一个key 获取url的 value，拿到业务id
     * */
    function getQueryVariable(variable)
    {
      var query = window.location.search.substring(1);
      var vars = query.split("&");
      for (var i=0;i<vars.length;i++) {
              var pair = vars[i].split("=");
              if(pair[0] == variable){return pair[1];}
      }
      return(false);
    }
  </script>
</body>

</html>